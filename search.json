[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jake Peters. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Peters J (2024). cidtree: cidtree: Package mapping concepts using tree-based data dictionary. R package version 0.1.0, https://analyticsphere.github.io/cidtree/, https://github.com/Analyticsphere/cidtree/.","code":"@Manual{,   title = {cidtree: cidtree: A Package for mapping concepts using a tree-based data dictionary},   author = {Jake Peters},   year = {2024},   note = {R package version 0.1.0, https://analyticsphere.github.io/cidtree/},   url = {https://github.com/Analyticsphere/cidtree/}, }"},{"path":"/index.html","id":"cidtree","dir":"","previous_headings":"","what":"cidtree: A Package for mapping concepts using a tree-based data dictionary","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"Jake Peters 2024-04-01 Introduction Documentation Install cidtree Construct visualize data dictionary tree View dictionary dataframe Retrieve key, given cid Retrieve concept id, given key Retrieve metadata using cid Get variable name variable compound name  References","code":""},{"path":"/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"objectives cidtree package construct data.tree object data dictionary provide convenient functions explore data dictionary automate mapping Concept IDs associated concepts metadata. map concepts counterparts cidtree GCP tables intend toolkit standardize way analysts interact Connect Cancer Prevention data dictionary.","code":""},{"path":"/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"documentation page. pdf reference document also available.","code":""},{"path":"/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"Load dependencies","code":"library(dplyr) library(data.tree) library(jsonlite) library(devtools) library(gt)"},{"path":"/index.html","id":"install-cidtree","dir":"","previous_headings":"Examples","what":"Install cidtree","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"Option 1: cloned repo working inside ~/cidtree/ directory, use : Option 2: want install library load like library, use :","code":"devtools::install_github('Analyticsphere/cidtree') library(cidtree)"},{"path":"/index.html","id":"construct-and-visualize-a-data-dictionary-tree","dir":"","previous_headings":"Examples","what":"Construct and visualize a data dictionary tree","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"Notice RESPONSE concepts nested directly root node rather QUESTION objects. necessary can appear tree.","code":"path <- get_path_to_example_dictionary() dd <- cidtree::construct_dictionary_tree(path) print(dd, 'concept_str') levelName                                        concept_str 1  0                         DICT: connect4cancer                               2   ¦--129084651              PRI_SRC: Survey                                   3   ¦   °--965707586           SEC_SRC: Smoking, Alcohol, and Sun Exposure      4   ¦       ¦--194557808          QUEST: SrvSAS_AgeCigsUseF_v1r0                5   ¦       ¦--790436165        SRC: Age first used cigarettes on a regular ... 6   ¦       ¦   ¦--408696162      QUEST: SrvSAS_AgeCigsUseRegF_v1r0             7   ¦       ¦   °--965482317      QUEST: SrvSAS_NeverSmokedReg_v1r0             8   ¦       ¦--947205597        SRC: Have you ever used any of these tobacco... 9   ¦       ¦   ¦--535003378      QUEST: SrvSAS_NoTobacco_v1r0                  10  ¦       ¦   ¦--686310465      QUEST: SrvSAS_TobaccoPipe_v1r0                11  ¦       ¦   °--712653855      QUEST: SrvSAS_Cigarettes_v1r0                 12  ¦       ¦--639684251          QUEST: SrvSAS_UseCigsNow_v1r0                 13  ¦       ¦--763164658          QUEST: SrvSAS_CigarettesLife_v1r0             14  ¦       °--798549704          QUEST: SrvSAS_UseCigsLast_v1r0                15  ¦--192505768              PRI_SRC: Recruitment                              16  ¦   °--214456996           SEC_SRC: Eligibility Screener                    17  ¦       ¦--142654897        SRC: How did you hear about this study? (Sel... 18  ¦       ¦   ¦--461488577      QUEST: RcrtES_Aware_v1r0_Email                19  ¦       ¦   ¦--607081902      QUEST: RcrtES_Aware_v1r0_Invite               20  ¦       ¦   °--942255248      QUEST: RcrtES_Aware_v1r0_Mail                 21  ¦       ¦--827220437          QUEST: RcrtES_Site_v1r0                       22  ¦       °--948195369          QUEST: RcrtES_PINmatch_v1r0                   23  ¦--104430631              RESP: No                                          24  ¦--125001209              RESP: Kaiser Permanente Colorado                  25  ¦--132232896              RESP: 100 or more                                 26  ¦--151488193              RESP: 10 or less                                  27  ¦--181769837              RESP: Other                                       28  ¦--299561721              RESP: Yes, but rarely                             29  ¦--300267574              RESP: Kaiser Permanente Hawaii                    30  ¦--303349821              RESP: Marshfield Clinic Health System             31  ¦--317567178              RESP: In the past month                           32  ¦--327912200              RESP: Kaiser Permanente Georgia                   33  ¦--353358909              RESP: Yes                                         34  ¦--419415087              RESP: No, not at all                              35  ¦--452412599              RESP: Kaiser Permanente Northwest                 36  ¦--484055234              RESP: More than a month ago, but in the past year 37  ¦--486319890              RESP: 50 to 99                                    38  ¦--517700004              RESP: National Cancer Institute                   39  ¦--531629870              RESP: HealthPartners                              40  ¦--548392715              RESP: Henry Ford Health System                    41  ¦--648960871              RESP: Never                                       42  ¦--657167265              RESP: Sanford Health                              43  ¦--716761013              RESP: Yes, but some days                          44  ¦--802197176              RESP: More than 1 year ago                        45  ¦--804785430              RESP: Yes, every day                              46  ¦--805449318              RESP: 11 to 49                                    47  ¦--809703864              RESP: University of Chicago Medicine              48  °--812620303              RESP: N/A"},{"path":"/index.html","id":"view-dictionary-as-a-dataframe","dir":"","previous_headings":"Examples","what":"View dictionary as a dataframe","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"","code":"dd$df %>%    select(cid, path, key) %>%   head(5) cid                               path 1         0                                  0 2 129084651                       0, 129084651 3 965707586            0, 129084651, 965707586 4 194557808 0, 129084651, 965707586, 194557808 5 790436165 0, 129084651, 965707586, 790436165                                                   key 1                                          dictionary 2                                              Survey 3                  Smoking, Alcohol, and Sun Exposure 4 How old were you when you first smoked a cigarette? 5        Age first used cigarettes on a regular basis"},{"path":"/index.html","id":"retrieve-a-key-given-a-cid","dir":"","previous_headings":"Examples","what":"Retrieve a key, given a cid","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"","code":"cid <- 639684251 key <- cidtree::get_key(dd, cid) print(key) 639684251  \"Do you smoke cigarettes now?\""},{"path":"/index.html","id":"retrieve-a-concept-id-given-a-key","dir":"","previous_headings":"Examples","what":"Retrieve a concept id, given a key","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"","code":"key <- \"Do you smoke cigarettes now?\" cid <- cidtree::get_cid(dd, key) print(cid) [1] \"639684251\""},{"path":"/index.html","id":"retrieve-all-metadata-using-the-cid","dir":"","previous_headings":"Examples","what":"Retrieve all metadata using the cid","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"","code":"meta <- cidtree::get_meta(dd, cid) meta$cid [1] \"639684251\" meta$path [1] \"0, 129084651, 965707586, 639684251\" meta$var_name [1] \"SrvSAS_UseCigsNow_v1r0\" meta$responses [1] \"419415087, 299561721, 716761013, 804785430\" meta$concept_type [1] \"QUESTION\""},{"path":"/index.html","id":"get-variable-name-for-a-variable-with-a-compound-name","dir":"","previous_headings":"Examples","what":"Get variable name for a variable with a compound name","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"","code":"bq_var_name <- \"d_142654897_d_461488577\" dd_var_name <- get_var_name(dd, bq_var_name) dd_var_name 461488577  \"RcrtES_Aware_v1r0_Email\""},{"path":[]},{"path":"/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"cidtree: A Package for mapping concepts using a tree-based data dictionary","text":"library built data.tree library. dd object inherits core functionality data.tree object.","code":""},{"path":"/reference/construct_dictionary_tree.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Dictionary Tree from JSON Files — construct_dictionary_tree","title":"Construct a Dictionary Tree from JSON Files — construct_dictionary_tree","text":"function reads JSON files specified directory, creates nodes file, builds hierarchical tree based relationships defined within files.","code":""},{"path":"/reference/construct_dictionary_tree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Dictionary Tree from JSON Files — construct_dictionary_tree","text":"","code":"construct_dictionary_tree()"},{"path":"/reference/construct_dictionary_tree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Dictionary Tree from JSON Files — construct_dictionary_tree","text":"path path directory containing JSON files.","code":""},{"path":"/reference/construct_dictionary_tree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Dictionary Tree from JSON Files — construct_dictionary_tree","text":"Node object representing root dictionary tree.","code":""},{"path":"/reference/construct_dictionary_tree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a Dictionary Tree from JSON Files — construct_dictionary_tree","text":"","code":"path <- get_path_to_example_dictionary() print(path) #> [1] \"/home/runner/work/_temp/Library/cidtree/extdata/test_dictionary\" dd <- construct_dictionary_tree(path) #> Error in construct_dictionary_tree(path): unused argument (path) # Print output so that it does not wrap on the screen output <- capture.output(print(dd, 'concept_str', 'concept_type','pathString')) #> Error in eval(expr, envir, enclos): object 'dd' not found cat(output, sep=\"\\n\") #> Error in eval(expr, envir, enclos): object 'output' not found"},{"path":"/reference/extract_cids.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Nine-Digit Concept IDs from a String — extract_cids","title":"Extract Nine-Digit Concept IDs from a String — extract_cids","text":"function extracts nine-digit sequences given input string returns concatenated single string separated slashes.","code":""},{"path":"/reference/extract_cids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Nine-Digit Concept IDs from a String — extract_cids","text":"","code":"extract_cids(input_string)"},{"path":"/reference/extract_cids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Nine-Digit Concept IDs from a String — extract_cids","text":"input_string character string extract nine-digit numbers.","code":""},{"path":"/reference/extract_cids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Nine-Digit Concept IDs from a String — extract_cids","text":"character string containing found nine-digit numbers concatenated slash (\"/\") separator. Returns NA nine-digit numbers found.","code":""},{"path":"/reference/extract_cids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Nine-Digit Concept IDs from a String — extract_cids","text":"","code":"# Extract nine-digit numbers from a sample string extract_cids(\"d_142654897_d_461488577\") #> [1] \"142654897/461488577\" # Output: \"142654897/461488577\"  extract_cids(\"no nine-digit numbers\") #> [1] NA # Output: NA"},{"path":"/reference/get_cid.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve the Concept ID Associated with a Key — get_cid","title":"Retrieve the Concept ID Associated with a Key — get_cid","text":"function returns concept ID (cid) corresponding given key within data.tree object representing data dictionary.","code":""},{"path":"/reference/get_cid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve the Concept ID Associated with a Key — get_cid","text":"","code":"get_cid(dd, key)"},{"path":"/reference/get_cid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve the Concept ID Associated with a Key — get_cid","text":"dd data.tree object representing data dictionary. key key locate corresponding concept ID.","code":""},{"path":"/reference/get_cid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve the Concept ID Associated with a Key — get_cid","text":"concept ID associated given key. match found, returns NULL.","code":""},{"path":"/reference/get_cid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve the Concept ID Associated with a Key — get_cid","text":"","code":"path <- get_path_to_example_dictionary() # Replace with path to your dictionary dd <- construct_dictionary_tree(path) #> Error in construct_dictionary_tree(path): unused argument (path) concept_id <- get_cid(dd, 'University of Chicago Medicine') #> Error in eval(expr, envir, enclos): object 'dd' not found concept_id #> Error in eval(expr, envir, enclos): object 'concept_id' not found"},{"path":"/reference/get_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve the Key Associated with a Concept ID from a Data Tree — get_key","title":"Retrieve the Key Associated with a Concept ID from a Data Tree — get_key","text":"function takes data.tree object representing data dictionary concept ID (cid), returning \"key\" associated specific concept ID within data tree.","code":""},{"path":"/reference/get_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve the Key Associated with a Concept ID from a Data Tree — get_key","text":"","code":"get_key(dd, cid)"},{"path":"/reference/get_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve the Key Associated with a Concept ID from a Data Tree — get_key","text":"dd data.tree object representing data dictionary. cid concept ID string numeric value, used locate specific node within data tree whose key desired.","code":""},{"path":"/reference/get_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve the Key Associated with a Concept ID from a Data Tree — get_key","text":"key associated given concept ID. concept ID exist, returns NULL.","code":""},{"path":"/reference/get_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve the Key Associated with a Concept ID from a Data Tree — get_key","text":"","code":"# Assuming `dd` is a properly structured `data.tree` object # and '123' is a valid concept ID in the tree: path <- get_path_to_example_dictionary() # Replace with path to your dictionary dd <- construct_dictionary_tree(path) #> Error in construct_dictionary_tree(path): unused argument (path) key <- get_key(dd, '151488193') #> Error in eval(expr, envir, enclos): object 'dd' not found key #> Error in eval(expr, envir, enclos): object 'key' not found"},{"path":"/reference/get_meta.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Metadata for a Concept — get_meta","title":"Retrieve Metadata for a Concept — get_meta","text":"function retrieves metadata concept based whether valid concept ID (cid) key.","code":""},{"path":"/reference/get_meta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Metadata for a Concept — get_meta","text":"","code":"get_meta(dd, concept)"},{"path":"/reference/get_meta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Metadata for a Concept — get_meta","text":"dd data.tree object representing data dictionary. concept concept ID key find metadata .","code":""},{"path":"/reference/get_meta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Metadata for a Concept — get_meta","text":"dataframe containing metadata given concept, NULL found.","code":""},{"path":"/reference/get_meta.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Metadata for a Concept — get_meta","text":"","code":"path <- get_path_to_example_dictionary() # Replace with path to your dictionary dd <- construct_dictionary_tree(path) #> Error in construct_dictionary_tree(path): unused argument (path) metadata <- get_meta(dd, '317567178')  # for a valid cid #> Error in eval(expr, envir, enclos): object 'dd' not found metadata #> Error in eval(expr, envir, enclos): object 'metadata' not found metadata <- get_meta(dd, 'In the past month')  # for a valid key #> Error in eval(expr, envir, enclos): object 'dd' not found metadata #> Error in eval(expr, envir, enclos): object 'metadata' not found"},{"path":"/reference/get_path_to_example_dictionary.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Path to an example dictionary — get_path_to_example_dictionary","title":"Get Path to an example dictionary — get_path_to_example_dictionary","text":"Get Path example dictionary","code":""},{"path":"/reference/get_path_to_example_dictionary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Path to an example dictionary — get_path_to_example_dictionary","text":"","code":"get_path_to_example_dictionary()"},{"path":"/reference/get_path_to_example_dictionary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Path to an example dictionary — get_path_to_example_dictionary","text":"string Path folder containing JSON files example dictionary","code":""},{"path":"/reference/get_path_to_example_dictionary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Path to an example dictionary — get_path_to_example_dictionary","text":"","code":"path <- get_path_to_example_dictionary() print(path) #> [1] \"/home/runner/work/_temp/Library/cidtree/extdata/test_dictionary\""},{"path":"/reference/get_responses.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Responses for a Concept — get_responses","title":"Retrieve Responses for a Concept — get_responses","text":"function retrieves responses associated given concept.","code":""},{"path":"/reference/get_responses.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Responses for a Concept — get_responses","text":"","code":"get_responses(dd, concept)"},{"path":"/reference/get_responses.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Responses for a Concept — get_responses","text":"dd data.tree object representing data dictionary. concept concept ID key whose responses retrieved.","code":""},{"path":"/reference/get_responses.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Responses for a Concept — get_responses","text":"Responses associated concept question; otherwise, NULL.","code":""},{"path":"/reference/get_responses.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Responses for a Concept — get_responses","text":"","code":"path <- get_path_to_example_dictionary() # Replace with path to your dictionary dd <- construct_dictionary_tree(path) #> Error in construct_dictionary_tree(path): unused argument (path) responses <- get_responses(dd, '763164658') #> Error in eval(expr, envir, enclos): object 'dd' not found responses #> Error in eval(expr, envir, enclos): object 'responses' not found responses <- get_responses(dd, 'How many cigarettes have you smoked in your entire life?') #> Error in eval(expr, envir, enclos): object 'dd' not found responses #> Error in eval(expr, envir, enclos): object 'responses' not found"},{"path":"/reference/get_var_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Variable Name for a Question Concept — get_var_name","title":"Retrieve Variable Name for a Question Concept — get_var_name","text":"function retrieves variable name question concept, given string containing Concept ID. particularly useful labeling data Connect's BigQuery tables.","code":""},{"path":"/reference/get_var_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Variable Name for a Question Concept — get_var_name","text":"","code":"get_var_name(dd, cid_str)"},{"path":"/reference/get_var_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Variable Name for a Question Concept — get_var_name","text":"dd data dictionary tree cid_str string containing concept id question concept.","code":""},{"path":"/reference/get_var_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Variable Name for a Question Concept — get_var_name","text":"variable name question concept.","code":""},{"path":"/reference/get_var_name.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Variable Name for a Question Concept — get_var_name","text":"","code":"path <- get_path_to_example_dictionary() # Replace with path to your dictionary dd <- construct_dictionary_tree(path) #> Error in construct_dictionary_tree(path): unused argument (path) var_name <- get_var_name(dd, \"d_142654897_d_461488577\") # Should return \"RcrtES_Aware_v1r0_Email\" #> Error in eval(expr, envir, enclos): object 'dd' not found var_name #> Error in eval(expr, envir, enclos): object 'var_name' not found"},{"path":"/reference/is_valid_cid.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate if the Input is a 9-digit Concept ID (cid) — is_valid_cid","title":"Validate if the Input is a 9-digit Concept ID (cid) — is_valid_cid","text":"function checks given input valid 9-digit concept ID. Returns TRUE valid, FALSE otherwise.","code":""},{"path":"/reference/is_valid_cid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate if the Input is a 9-digit Concept ID (cid) — is_valid_cid","text":"","code":"is_valid_cid(input)"},{"path":"/reference/is_valid_cid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate if the Input is a 9-digit Concept ID (cid) — is_valid_cid","text":"input input check, expected string numeric type.","code":""},{"path":"/reference/is_valid_cid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate if the Input is a 9-digit Concept ID (cid) — is_valid_cid","text":"boolean indicating input valid 9-digit concept ID.","code":""},{"path":"/reference/is_valid_cid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate if the Input is a 9-digit Concept ID (cid) — is_valid_cid","text":"","code":"is_valid_cid(123456789)   # Should return TRUE #> [1] TRUE is_valid_cid(\"987654321\") # Should return TRUE #> [1] TRUE is_valid_cid(12345)       # Should return FALSE #> [1] FALSE is_valid_cid(9876543210)  # Should return FALSE #> [1] FALSE"}]
